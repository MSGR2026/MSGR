task:
  domain: GraphLearning
  task: NoisyGL
  framework: NoisyGL
  description: "Noisy Graph Learning"

execution:
  container: container/GraphLearning/noisygl.sif
  # 使用容器内的 Python 环境（/opt/zyg/bin/python）
  # 确保使用容器内安装的包（如 nni）
  # 注意：所有参数都在 entry 中，不使用 args.template（因为 interface.py 会硬编码 python）
  entry: /opt/zyg/bin/python -u replicate.py --method {model} --dataset {dataset} --noise_type instance --noise_rate 0.3 --device auto --results_dir /app/results
  workdir: /app
  timeout: 54000

mount:
  replicate:
    host: "paperbench_pro/benchmark/GraphLearning/NoisyGL/replicate.py"
    container: "/app/replicate.py"
  
  algorithm:
    host: "paperbench_pro/benchmark/GraphLearning/NoisyGL/models/{model}.py"
    container: "/app/models/{model}.py"

  # models 目录的共享依赖文件
  models_init:
    host: "paperbench_pro/benchmark/GraphLearning/NoisyGL/models/__init__.py"
    container: "/app/models/__init__.py"
  
  # utils 目录（包含 tools.py 等工具文件）
  utils:
    host: "paperbench_pro/benchmark/GraphLearning/NoisyGL/utils"
    container: "/app/utils"

  # 配置文件目录（数据集配置）
  config:
    host: "paperbench_pro/benchmark/GraphLearning/NoisyGL/config"
    container: "/app/config"

  # 当前运行的超参数配置文件（动态挂载）
  hyperparameter:
    host: "{hyperparameter_path}"
    container: "/app/configs/models/{model}.yaml"

  overall:
    host: "paperbench_pro/benchmark/GraphLearning/NoisyGL/configs/overall.yaml"
    container: "/app/configs/overall.yaml"

  data:
    host: "paperbench_pro/benchmark/GraphLearning/NoisyGL/data"
    container: "/app/data"

  results:
    host: "output/logs/runs/{run_id}/results"
    container: "/app/results"

  logs:
    host: "output/logs/runs/{run_id}/tasks"
    container: "/app/log"

data:
  # 可用数据集（注意：replicate.py 中使用小写）
  datasets:
    # - cora
    # - citeSeer
    # - pubmed
    # - amazoncom
    # - amazonpho
    - dblp
    # - blogcatalog
    # - flickr
    # - amazon-ratings
    # - roman-empire

  # 数据集根目录
  root: paperbench_pro/benchmark/GraphLearning/NoisyGL/data

eval:
  # 评估指标（根据 NoisyGLCollector 确定）
  metrics:
    - test_acc
    - test_macro_f1
    - test_micro_f1
    - best_valid_acc
  # metrics:
  #   - train_acc
  #   - valid_acc
  #   - test_acc
  #   - best_valid_acc

  primary_metric: test_acc
  higher_is_better: true

